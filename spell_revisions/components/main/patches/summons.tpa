//Libraries.
INCLUDE "%WEIDU_LIBRARY_DIR%/components.tpa"
INCLUDE "%WEIDU_LIBRARY_DIR%/installers.tpa"
INCLUDE "%WEIDU_LIBRARY_DIR%/patchers.tpa"


//Load references.
LAF get_component_resources_dir RET resources = dir END
LAF get_table_references STR_VAR
    tables = "items"
    dir = "%resources%/2da/summons"
RET_ARRAY items = references END


//Patches.
DEFINE_PATCH_FUNCTION bat STR_VAR destination = "*" BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "bat_bite"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "bat_immunities"
        slot = "rring"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION war_dog BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "war_dog_bite"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "war_dog_scent"
        slot = "rring"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION lesser_skeleton BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "skeleton_mace"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "skeleton_shield"
        slot = "shield"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "undead_immunities"
        slot = "rring"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION greater_skeleton BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "skeleton_2h_sword"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "undead_immunities"
        slot = "rring"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION wolf BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "wolf_bite"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "wolf_pack_attack"
        slot = "rring"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION gibberling STR_VAR destination = "*" BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "gibberling_sword"
        slot = "weapon1"
        array = "items"
    END
END

DEFINE_PATCH_FUNCTION green_slime BEGIN
    //Equip items.
    LPF creature_add_item STR_VAR
        reference = "green_slime_pseudopod"
        slot = "weapon1"
        array = "items"
    END

    LPF creature_add_item STR_VAR
        reference = "green_slime_immunities"
        slot = "rring"
        array = "items"
    END
END
